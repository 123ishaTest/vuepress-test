"use strict";(self.webpackChunkvuepress=self.webpackChunkvuepress||[]).push([[163],{3153:(n,s,e)=>{e.r(s),e.d(s,{data:()=>a});const a={key:"v-02c34e0b",path:"/demo/adding-the-wallet.html",title:"Adding the IgtWallet",lang:"en-US",frontmatter:{title:"Adding the IgtWallet"},excerpt:"",headers:[{level:2,title:"Create a new CurrencyType",slug:"create-a-new-currencytype",children:[]},{level:2,title:"Update the MyFeatures interface",slug:"update-the-myfeatures-interface",children:[]},{level:2,title:"Pass the wallet to the Game",slug:"pass-the-wallet-to-the-game",children:[]},{level:2,title:"Creating a UI",slug:"creating-a-ui",children:[]}],filePathRelative:"demo/adding-the-wallet.md",git:{updatedTime:1633600314e3,contributors:[{name:"Isha",email:"ishadijcks@gmail.com",commits:3}]}}},4887:(n,s,e)=>{e.r(s),e.d(s,{default:()=>o});var a=e(6252);const t=(0,a._)("h1",{id:"adding-the-igtwallet",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#adding-the-igtwallet","aria-hidden":"true"},"#"),(0,a.Uk)(" Adding the IgtWallet")],-1),p=(0,a.Uk)("The "),l=(0,a.Uk)("Wallet"),r=(0,a.Uk)(" is a very useful Feature that allows us to store and track Currencies. Our game of course revolves around bananas, so that's what we're going to use."),i=(0,a.uE)('<h2 id="create-a-new-currencytype" tabindex="-1"><a class="header-anchor" href="#create-a-new-currencytype" aria-hidden="true">#</a> Create a new CurrencyType</h2><p>First we need to add a new file <code>src/my-game/features/wallet/CurrencyType.ts</code>. This allows us to refer to our currency easily.</p><div class="language-diff ext-diff line-numbers-mode"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">export enum CurrencyType {\n</span><span class="token prefix inserted">+</span><span class="token line">    banana = &quot;Banana&quot;,\n</span><span class="token prefix inserted">+</span><span class="token line">}\n</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>It is of course up to you where you like to store your game logic, but I suggest mimicking the igt-library structure for clarity</p></div><h2 id="update-the-myfeatures-interface" tabindex="-1"><a class="header-anchor" href="#update-the-myfeatures-interface" aria-hidden="true">#</a> Update the MyFeatures interface</h2><p>Now we need to add it to the <code>MyFeatures</code> interface. This interface allows the game to know which features are available in your game. We will use this later when features depend on each other.</p><div class="language-diff ext-diff line-numbers-mode"><pre class="language-diff"><code><span class="token coord">--- a/src/my-game/MyFeatures.ts</span>\n<span class="token coord">+++ b/src/my-game/MyFeatures.ts</span>\n<span class="token coord">@@ -1,5 +1,5 @@</span>\n<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">import {IgtFeatures} from &quot;incremental-game-template&quot;;\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import {IgtFeatures, IgtWallet} from &quot;incremental-game-template&quot;;\n</span></span>\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">export interface MyFeatures extends IgtFeatures {\n</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    wallet: IgtWallet;\n</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">}\n</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="pass-the-wallet-to-the-game" tabindex="-1"><a class="header-anchor" href="#pass-the-wallet-to-the-game" aria-hidden="true">#</a> Pass the wallet to the Game</h2><p>And finally we need to create an instance of the <code>IgtWallet</code> and inject it into our <code>Game</code>. The wallet takes as argument a list of currencies it accepts, so we want to pass the <code>CurrencyType.banana</code>.</p><div class="language-diff ext-diff line-numbers-mode"><pre class="language-diff"><code><span class="token coord">--- a/src/App.ts</span>\n<span class="token coord">+++ b/src/App.ts</span>\n<span class="token coord">@@ -1,5 +1,6 @@</span>\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">import {MyGame} from &quot;./my-game/MyGame&quot;;\n</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">import {IgtSettings} from &quot;incremental-game-template&quot;;\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import {IgtSettings, IgtWallet} from &quot;incremental-game-template&quot;;\n</span><span class="token prefix inserted">+</span><span class="token line">import {CurrencyType} from &quot;@/my-game/features/wallet/CurrencyType&quot;;\n</span></span>\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">export class App {\n</span><span class="token prefix unchanged"> </span><span class="token line">    static inProduction: boolean = (process.env.NODE_ENV === &quot;production&quot;);\n</span></span>@@ -17,7 +18,7 @@ export class App {\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">        return new MyGame(\n</span><span class="token prefix unchanged"> </span><span class="token line">            {\n</span><span class="token prefix unchanged"> </span><span class="token line">                settings: new IgtSettings(),\n</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                // Add your own features here.\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                wallet: new IgtWallet([CurrencyType.banana]),\n</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">            }\n</span><span class="token prefix unchanged"> </span><span class="token line">        );\n</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>When building a larger game, it is highly recommended to always extend the features and add those to your App and MyFeatures. This makes it much easier to add custom functionality later.</p></div><h2 id="creating-a-ui" tabindex="-1"><a class="header-anchor" href="#creating-a-ui" aria-hidden="true">#</a> Creating a UI</h2><p>The <code>igt-vue</code> repository comes with a bunch of useful Vue components that work with <code>IgtFeature</code>s. We will use the <code>src/components/features/igt-wallet.vue</code> component to render the amount of bananas we have. We need to add a computed which grabs the amount from the wallet, and render that. The <code>numberFormat</code> is a Vue filter that properly formats the number to contain 2 decimal places.</p><div class="language-diff ext-diff line-numbers-mode"><pre class="language-diff"><code><span class="token coord">--- a/src/components/features/wallet/igt-wallet.vue</span>\n<span class="token coord">+++ b/src/components/features/wallet/igt-wallet.vue</span>\n<span class="token coord">@@ -1,12 +1,13 @@</span>\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">&lt;template&gt;\n</span><span class="token prefix unchanged"> </span><span class="token line">  &lt;igt-feature&gt;\n</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    Wallet\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    &lt;p&gt;I have {{ banana | numberFormat }} bananas&lt;/p&gt;\n</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">  &lt;/igt-feature&gt;\n</span><span class="token prefix unchanged"> </span><span class="token line">&lt;/template&gt;\n</span></span>\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">&lt;script&gt;\n</span><span class="token prefix unchanged"> </span><span class="token line">import IgtFeature from &quot;@/components/util/igt-feature&quot;;\n</span><span class="token prefix unchanged"> </span><span class="token line">import {IgtWallet} from &quot;incremental-game-template&quot;;\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import {CurrencyType} from &quot;@/my-game/features/wallet/CurrencyType&quot;;\n</span></span>\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">export default {\n</span><span class="token prefix unchanged"> </span><span class="token line">  name: &quot;igt-wallet&quot;,\n</span></span>@@ -17,6 +18,11 @@ export default {\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">      required: true\n</span><span class="token prefix unchanged"> </span><span class="token line">    },\n</span><span class="token prefix unchanged"> </span><span class="token line">  },\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  computed: {\n</span><span class="token prefix inserted">+</span><span class="token line">    banana() {\n</span><span class="token prefix inserted">+</span><span class="token line">      return this.walletFeature.getAmount(CurrencyType.banana);\n</span><span class="token prefix inserted">+</span><span class="token line">    }\n</span><span class="token prefix inserted">+</span><span class="token line">  },\n</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">}\n</span><span class="token prefix unchanged"> </span><span class="token line">&lt;/script&gt;\n</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>And finally we need to include it in the <code>App.vue</code> to make sure it is actually used. Our game will be fairly simple, so let&#39;s create a &quot;Main Screen&quot; that contains the <code>&lt;igt-wallet&gt;</code> for now.</p><div class="language-diff ext-diff line-numbers-mode"><pre class="language-diff"><code><span class="token coord">--- a/src/VueApp.vue</span>\n<span class="token coord">+++ b/src/VueApp.vue</span>\n<span class="token coord">@@ -5,7 +5,11 @@</span>\n\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">      &lt;igt-sidebar-category name=&quot;Features&quot;&gt;&lt;/igt-sidebar-category&gt;\n</span></span>\n<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      &lt;igt-tab name=&quot;Main screen&quot; :selected=&quot;true&quot;&gt;\n</span><span class="token prefix inserted">+</span><span class="token line">        &lt;igt-wallet :wallet-feature=&quot;game.features.wallet&quot;&gt;&lt;/igt-wallet&gt;\n</span><span class="token prefix inserted">+</span><span class="token line">      &lt;/igt-tab&gt;\n</span><span class="token prefix inserted">+</span><span class="token line">\n</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">      &lt;igt-tab name=&quot;Settings&quot; :selected=&quot;true&quot;&gt;\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      &lt;igt-tab name=&quot;Settings&quot;&gt;\n</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">        &lt;igt-settings :settings-feature=&quot;game.features.settings&quot;&gt;&lt;/igt-settings&gt;\n</span><span class="token prefix unchanged"> </span><span class="token line">      &lt;/igt-tab&gt;\n</span></span>\n@@ -38,9 +42,11 @@ import IgtDeveloperPanel from &quot;@/components/developer-panel/igt-developer-panel&quot;\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">import IgtSidebarCategory from &quot;@/components/util/sidebar/igt-sidebar-category&quot;;\n</span><span class="token prefix unchanged"> </span><span class="token line">import IgtSidebarExternalLink from &quot;@/components/util/sidebar/igt-sidebar-external-link&quot;;\n</span><span class="token prefix unchanged"> </span><span class="token line">import IgtSettings from &quot;@/components/features/settings/igt-settings&quot;;\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import IgtWallet from &quot;@/components/features/wallet/igt-wallet&quot;;\n</span></span>\n<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">export default {\n</span><span class="token prefix unchanged"> </span><span class="token line">  components: {\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    IgtWallet,\n</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">    IgtSettings,\n</span><span class="token prefix unchanged"> </span><span class="token line">    IgtSidebarExternalLink,\n</span><span class="token prefix unchanged"> </span><span class="token line">    IgtSidebarCategory,\n</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>If we now open our game in the browser we should see a message that says &quot;I have 0 bananas&quot;.</p><p>Great we can track currencies, now let&#39;s earn some bananas!</p>',18),c={},o=(0,e(3744).Z)(c,[["render",function(n,s){const e=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[t,(0,a._)("p",null,[p,(0,a.Wm)(e,{to:"/docs/features/wallet.html"},{default:(0,a.w5)((()=>[l])),_:1}),r]),i],64)}]])},3744:(n,s)=>{s.Z=(n,s)=>{for(const[e,a]of s)n[e]=a;return n}}}]);